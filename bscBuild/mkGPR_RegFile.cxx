/*
 * Generated by Bluespec Compiler, version 2021.07 (build 4cac6eb)
 * 
 * On Tue Mar  8 15:41:57 GMT 2022
 * 
 */
#include "bluesim_primitives.h"
#include "mkGPR_RegFile.h"


/* Literal declarations */
static unsigned int const UWide_literal_151_h1fffff44000000_arr[] = { 1140850688u,
								      2097151u,
								      0u,
								      0u,
								      0u };
static tUWide const UWide_literal_151_h1fffff44000000(151u, UWide_literal_151_h1fffff44000000_arr);


/* Constructor */
MOD_mkGPR_RegFile::MOD_mkGPR_RegFile(tSimStateHdl simHdl, char const *name, Module *parent)
  : Module(simHdl, name, parent),
    __clk_handle_0(BAD_CLOCK_HANDLE),
    INST_f_reset_rsps(simHdl, "f_reset_rsps", this, 0u, 2u, (tUInt8)1u, 0u),
    INST_regfile(simHdl, "regfile", this, 5u, 151u, (tUInt8)0u, (tUInt8)31u),
    INST_rg_j(simHdl, "rg_j", this, 5u),
    INST_rg_state(simHdl, "rg_state", this, 2u, (tUInt8)0u, (tUInt8)0u),
    PORT_RST_N((tUInt8)1u),
    DEF_regfile_sub_read_rs2_rs2___d165(151u),
    DEF_regfile_sub_read_rs1_port2_rs1___d88(151u),
    DEF_regfile_sub_read_rs1_rs1___d11(151u),
    DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217(150u),
    DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216(72u),
    DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63(150u),
    DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62(72u),
    DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140(150u),
    DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139(72u)
{
  PORT_EN_write_rd = false;
  PORT_write_rd_rd_val.setSize(151u);
  PORT_write_rd_rd_val.clear();
  PORT_read_rs1.setSize(161u);
  PORT_read_rs1.clear();
  PORT_read_rs1_port2.setSize(161u);
  PORT_read_rs1_port2.clear();
  PORT_read_rs2.setSize(161u);
  PORT_read_rs2.clear();
  symbol_count = 13u;
  symbols = new tSym[symbol_count];
  init_symbols_0();
}


/* Symbol init fns */

void MOD_mkGPR_RegFile::init_symbols_0()
{
  init_symbol(&symbols[0u], "EN_write_rd", SYM_PORT, &PORT_EN_write_rd, 1u);
  init_symbol(&symbols[1u], "f_reset_rsps", SYM_MODULE, &INST_f_reset_rsps);
  init_symbol(&symbols[2u], "RL_rl_reset_loop", SYM_RULE);
  init_symbol(&symbols[3u], "RL_rl_reset_start", SYM_RULE);
  init_symbol(&symbols[4u], "read_rs1", SYM_PORT, &PORT_read_rs1, 161u);
  init_symbol(&symbols[5u], "read_rs1_port2", SYM_PORT, &PORT_read_rs1_port2, 161u);
  init_symbol(&symbols[6u], "read_rs2", SYM_PORT, &PORT_read_rs2, 161u);
  init_symbol(&symbols[7u], "regfile", SYM_MODULE, &INST_regfile);
  init_symbol(&symbols[8u], "rg_j", SYM_MODULE, &INST_rg_j);
  init_symbol(&symbols[9u], "rg_state", SYM_MODULE, &INST_rg_state);
  init_symbol(&symbols[10u], "rg_state__h349", SYM_DEF, &DEF_rg_state__h349, 2u);
  init_symbol(&symbols[11u], "WILL_FIRE_write_rd", SYM_DEF, &DEF_WILL_FIRE_write_rd, 1u);
  init_symbol(&symbols[12u], "write_rd_rd_val", SYM_PORT, &PORT_write_rd_rd_val, 151u);
}


/* Rule actions */

void MOD_mkGPR_RegFile::RL_rl_reset_start()
{
  INST_rg_state.METH_write((tUInt8)1u);
  INST_rg_j.METH_write((tUInt8)1u);
}

void MOD_mkGPR_RegFile::RL_rl_reset_loop()
{
  tUInt8 DEF_x__h561;
  tUInt8 DEF_rg_j_EQ_31___d6;
  tUInt8 DEF_i__h410;
  DEF_i__h410 = INST_rg_j.METH_read();
  DEF_rg_j_EQ_31___d6 = DEF_i__h410 == (tUInt8)31u;
  DEF_x__h561 = (tUInt8)31u & (DEF_i__h410 + (tUInt8)1u);
  INST_regfile.METH_upd(DEF_i__h410, UWide_literal_151_h1fffff44000000);
  INST_rg_j.METH_write(DEF_x__h561);
  if (DEF_rg_j_EQ_31___d6)
    INST_rg_state.METH_write((tUInt8)2u);
}


/* Methods */

void MOD_mkGPR_RegFile::METH_server_reset_request_put(tUInt8 ARG_server_reset_request_put)
{
  INST_rg_state.METH_write((tUInt8)0u);
  INST_f_reset_rsps.METH_enq();
}

tUInt8 MOD_mkGPR_RegFile::METH_RDY_server_reset_request_put()
{
  tUInt8 DEF_CAN_FIRE_server_reset_request_put;
  tUInt8 PORT_RDY_server_reset_request_put;
  DEF_CAN_FIRE_server_reset_request_put = INST_f_reset_rsps.METH_i_notFull();
  PORT_RDY_server_reset_request_put = DEF_CAN_FIRE_server_reset_request_put;
  return PORT_RDY_server_reset_request_put;
}

void MOD_mkGPR_RegFile::METH_server_reset_response_get()
{
  INST_f_reset_rsps.METH_deq();
}

tUInt8 MOD_mkGPR_RegFile::METH_RDY_server_reset_response_get()
{
  tUInt8 DEF_CAN_FIRE_server_reset_response_get;
  tUInt8 PORT_RDY_server_reset_response_get;
  DEF_rg_state__h349 = INST_rg_state.METH_read();
  DEF_CAN_FIRE_server_reset_response_get = DEF_rg_state__h349 == (tUInt8)2u && INST_f_reset_rsps.METH_i_notEmpty();
  PORT_RDY_server_reset_response_get = DEF_CAN_FIRE_server_reset_response_get;
  return PORT_RDY_server_reset_response_get;
}

tUWide MOD_mkGPR_RegFile::METH_read_rs1(tUInt8 ARG_read_rs1_rs1)
{
  tUInt8 DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d85;
  tUInt8 DEF_repBound__h898;
  tUInt8 DEF_NOT_read_rs1_rs1_EQ_0_0_AND_regfile_sub_read_r_ETC___d13;
  tUInt8 DEF_NOT_read_rs1_rs1_EQ_0___d10;
  tUInt8 DEF_thin_flags__h745;
  tUInt8 DEF_NOT_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_s_ETC___d76;
  tUInt8 DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d71;
  tUInt8 DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d74;
  tUInt8 DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d72;
  tUInt8 DEF_thin_reserved__h746;
  tUInt8 DEF_thin_perms_soft__h762;
  tUInt32 DEF_thin_otype__h747;
  tUInt8 DEF_read_rs1_rs1_EQ_0___d9;
  tUInt64 DEF_thin_address__h742;
  tUInt32 DEF_x__h908;
  tUInt8 DEF_tb__h895;
  tUInt32 DEF_x__h905;
  tUInt8 DEF_bb__h896;
  tUInt32 DEF_thin_addrBits__h743;
  tUInt8 DEF_ab__h897;
  DEF_regfile_sub_read_rs1_rs1___d11 = INST_regfile.METH_sub(ARG_read_rs1_rs1);
  DEF_read_rs1_rs1_EQ_0___d9 = ARG_read_rs1_rs1 == (tUInt8)0u;
  DEF_thin_addrBits__h743 = DEF_read_rs1_rs1_EQ_0___d9 ? 0u : DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word32(2u,
														    8u,
														    14u);
  DEF_ab__h897 = (tUInt8)(DEF_thin_addrBits__h743 >> 11u);
  DEF_x__h905 = DEF_read_rs1_rs1_EQ_0___d9 ? 0u : DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word32(0u,
													0u,
													14u);
  DEF_bb__h896 = (tUInt8)(DEF_x__h905 >> 11u);
  DEF_x__h908 = DEF_read_rs1_rs1_EQ_0___d9 ? 4096u : DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word32(0u,
													   14u,
													   14u);
  DEF_tb__h895 = (tUInt8)(DEF_x__h908 >> 11u);
  DEF_thin_address__h742 = DEF_read_rs1_rs1_EQ_0___d9 ? 0llu : primExtract64(64u,
									     151u,
									     DEF_regfile_sub_read_rs1_rs1___d11,
									     32u,
									     149u,
									     32u,
									     86u);
  DEF_thin_otype__h747 = DEF_read_rs1_rs1_EQ_0___d9 ? 262143u : DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word32(1u,
														      3u,
														      18u);
  DEF_thin_perms_soft__h762 = DEF_read_rs1_rs1_EQ_0___d9 ? (tUInt8)0u : DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(2u,
															     4u,
															     4u);
  DEF_thin_reserved__h746 = DEF_read_rs1_rs1_EQ_0___d9 ? (tUInt8)0u : DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
															   21u,
															   2u);
  DEF_NOT_read_rs1_rs1_EQ_0___d10 = !DEF_read_rs1_rs1_EQ_0___d9;
  DEF_thin_flags__h745 = DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
														 23u,
														 1u);
  DEF_NOT_read_rs1_rs1_EQ_0_0_AND_regfile_sub_read_r_ETC___d13 = DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(4u,
																			 22u,
																			 1u);
  DEF_repBound__h898 = (tUInt8)7u & (DEF_bb__h896 - (tUInt8)1u);
  DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d72 = DEF_bb__h896 < DEF_repBound__h898;
  DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d74 = DEF_ab__h897 < DEF_repBound__h898;
  DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d71 = DEF_tb__h895 < DEF_repBound__h898;
  DEF_NOT_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_s_ETC___d76 = !DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d74;
  DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62.build_concat(1099511627775llu & ((((((((((((((((((((tUInt64)(DEF_thin_perms_soft__h762)) << 36u) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(2u,
																																      3u,
																																      1u))) << 35u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(2u,
																																															   2u,
																																															   1u))) << 34u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(2u,
																																																														1u,
																																																														1u))) << 33u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(2u,
																																																																												     0u,
																																																																												     1u))) << 32u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																											  31u,
																																																																																											  1u))) << 31u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																									       30u,
																																																																																																									       1u))) << 30u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																								    29u,
																																																																																																																								    1u))) << 29u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																																							 28u,
																																																																																																																																							 1u))) << 28u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																																																					      27u,
																																																																																																																																																					      1u))) << 27u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																																																																				   26u,
																																																																																																																																																																				   1u))) << 26u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																																																																																			25u,
																																																																																																																																																																																			1u))) << 25u)) | (((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0___d10 && DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																																																																																																	     24u,
																																																																																																																																																																																																	     1u))) << 24u)) | (((tUInt64)(DEF_thin_flags__h745)) << 23u)) | (((tUInt64)(DEF_thin_reserved__h746)) << 21u)) | (((tUInt64)(DEF_thin_otype__h747)) << 3u)) | (((tUInt64)(DEF_read_rs1_rs1_EQ_0___d9 || DEF_regfile_sub_read_rs1_rs1___d11.get_bits_in_word8(1u,
																																																																																																																																																																																																																																	 2u,
																																																																																																																																																																																																																																	 1u))) << 2u)) | (tUInt64)((tUInt8)((DEF_read_rs1_rs1_EQ_0___d9 ? 14025752576llu : primExtract64(34u,
																																																																																																																																																																																																																																													 151u,
																																																																																																																																																																																																																																													 DEF_regfile_sub_read_rs1_rs1___d11,
																																																																																																																																																																																																																																													 32u,
																																																																																																																																																																																																																																													 33u,
																																																																																																																																																																																																																																													 32u,
																																																																																																																																																																																																																																													 0u)) >> 32u))),
									    32u,
									    40u).set_whole_word((tUInt32)(DEF_read_rs1_rs1_EQ_0___d9 ? 14025752576llu : primExtract64(34u,
																				      151u,
																				      DEF_regfile_sub_read_rs1_rs1___d11,
																				      32u,
																				      33u,
																				      32u,
																				      0u)),
												0u);
  DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63.set_bits_in_word((tUInt32)(DEF_thin_address__h742 >> 42u),
										4u,
										0u,
										22u).set_whole_word((tUInt32)(DEF_thin_address__h742 >> 10u),
												    3u).set_whole_word(((((tUInt32)(1023u & DEF_thin_address__h742)) << 22u) | (DEF_thin_addrBits__h743 << 8u)) | (tUInt32)(DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62.get_bits_in_word8(2u,
																																					   0u,
																																					   8u)),
														       2u).set_whole_word(DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62.get_whole_word(1u),
																	  1u).set_whole_word(DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62.get_whole_word(0u),
																			     0u);
  DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d85 = (tUInt8)127u & (((((DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d71 << 6u) | (DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d72 << 5u)) | (DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d74 << 4u)) | ((DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d71 == DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d74 ? (tUInt8)0u : (DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d71 && DEF_NOT_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_s_ETC___d76 ? (tUInt8)1u : (tUInt8)3u)) << 2u)) | (DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d72 == DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d74 ? (tUInt8)0u : (DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d72 && DEF_NOT_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_s_ETC___d76 ? (tUInt8)1u : (tUInt8)3u)));
  PORT_read_rs1.build_concat(8589934591llu & ((((tUInt64)(DEF_NOT_read_rs1_rs1_EQ_0_0_AND_regfile_sub_read_r_ETC___d13)) << 32u) | (tUInt64)(primExtract32(32u,
																			   150u,
																			   DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63,
																			   32u,
																			   149u,
																			   32u,
																			   118u))),
			     128u,
			     33u).set_whole_word(primExtract32(32u,
							       150u,
							       DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63,
							       32u,
							       117u,
							       32u,
							       86u),
						 3u).set_whole_word(primExtract32(32u,
										  150u,
										  DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63,
										  32u,
										  85u,
										  32u,
										  54u),
								    2u).set_whole_word(primExtract32(32u,
												     150u,
												     DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63,
												     32u,
												     53u,
												     32u,
												     22u),
										       1u).set_whole_word(((DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63.get_bits_in_word32(0u,
																							    0u,
																							    22u) << 10u) | (((tUInt32)(DEF_repBound__h898)) << 7u)) | (tUInt32)(DEF_IF_read_rs1_rs1_EQ_0_THEN_4096_ELSE_regfile_su_ETC___d85),
													  0u);
  return PORT_read_rs1;
}

tUInt8 MOD_mkGPR_RegFile::METH_RDY_read_rs1()
{
  tUInt8 PORT_RDY_read_rs1;
  tUInt8 DEF_CAN_FIRE_read_rs1;
  DEF_CAN_FIRE_read_rs1 = (tUInt8)1u;
  PORT_RDY_read_rs1 = DEF_CAN_FIRE_read_rs1;
  return PORT_RDY_read_rs1;
}

tUWide MOD_mkGPR_RegFile::METH_read_rs1_port2(tUInt8 ARG_read_rs1_port2_rs1)
{
  tUInt8 DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d162;
  tUInt8 DEF_repBound__h1132;
  tUInt8 DEF_NOT_read_rs1_port2_rs1_EQ_0_6_7_AND_regfile_su_ETC___d90;
  tUInt8 DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87;
  tUInt8 DEF_thin_flags__h979;
  tUInt8 DEF_NOT_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_r_ETC___d153;
  tUInt8 DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d148;
  tUInt8 DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d151;
  tUInt8 DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d149;
  tUInt8 DEF_thin_reserved__h980;
  tUInt8 DEF_thin_perms_soft__h996;
  tUInt32 DEF_thin_otype__h981;
  tUInt8 DEF_read_rs1_port2_rs1_EQ_0___d86;
  tUInt64 DEF_thin_address__h976;
  tUInt32 DEF_x__h1139;
  tUInt8 DEF_bb__h1130;
  tUInt32 DEF_x__h1142;
  tUInt8 DEF_tb__h1129;
  tUInt32 DEF_thin_addrBits__h977;
  tUInt8 DEF_ab__h1131;
  DEF_regfile_sub_read_rs1_port2_rs1___d88 = INST_regfile.METH_sub(ARG_read_rs1_port2_rs1);
  DEF_read_rs1_port2_rs1_EQ_0___d86 = ARG_read_rs1_port2_rs1 == (tUInt8)0u;
  DEF_thin_addrBits__h977 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? 0u : DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word32(2u,
																 8u,
																 14u);
  DEF_ab__h1131 = (tUInt8)(DEF_thin_addrBits__h977 >> 11u);
  DEF_x__h1142 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? 4096u : DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word32(0u,
															 14u,
															 14u);
  DEF_tb__h1129 = (tUInt8)(DEF_x__h1142 >> 11u);
  DEF_x__h1139 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? 0u : DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word32(0u,
														      0u,
														      14u);
  DEF_bb__h1130 = (tUInt8)(DEF_x__h1139 >> 11u);
  DEF_thin_otype__h981 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? 262143u : DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word32(1u,
																   3u,
																   18u);
  DEF_thin_address__h976 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? 0llu : primExtract64(64u,
										    151u,
										    DEF_regfile_sub_read_rs1_port2_rs1___d88,
										    32u,
										    149u,
										    32u,
										    86u);
  DEF_thin_perms_soft__h996 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? (tUInt8)0u : DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(2u,
																	  4u,
																	  4u);
  DEF_thin_reserved__h980 = DEF_read_rs1_port2_rs1_EQ_0___d86 ? (tUInt8)0u : DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																	21u,
																	2u);
  DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 = !DEF_read_rs1_port2_rs1_EQ_0___d86;
  DEF_thin_flags__h979 = DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
															       23u,
															       1u);
  DEF_NOT_read_rs1_port2_rs1_EQ_0_6_7_AND_regfile_su_ETC___d90 = DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(4u,
																				       22u,
																				       1u);
  DEF_repBound__h1132 = (tUInt8)7u & (DEF_bb__h1130 - (tUInt8)1u);
  DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d149 = DEF_bb__h1130 < DEF_repBound__h1132;
  DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d151 = DEF_ab__h1131 < DEF_repBound__h1132;
  DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d148 = DEF_tb__h1129 < DEF_repBound__h1132;
  DEF_NOT_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_r_ETC___d153 = !DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d151;
  DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139.build_concat(1099511627775llu & ((((((((((((((((((((tUInt64)(DEF_thin_perms_soft__h996)) << 36u) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(2u,
																																		     3u,
																																		     1u))) << 35u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(2u,
																																																			2u,
																																																			1u))) << 34u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(2u,
																																																																			   1u,
																																																																			   1u))) << 33u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(2u,
																																																																																			      0u,
																																																																																			      1u))) << 32u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																				 31u,
																																																																																																				 1u))) << 31u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																				    30u,
																																																																																																																				    1u))) << 30u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																				       29u,
																																																																																																																																				       1u))) << 29u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																																					  28u,
																																																																																																																																																					  1u))) << 28u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																																																					     27u,
																																																																																																																																																																					     1u))) << 27u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																																																																						26u,
																																																																																																																																																																																						1u))) << 26u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																																																																																						   25u,
																																																																																																																																																																																																						   1u))) << 25u)) | (((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6___d87 && DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																																																																																																						      24u,
																																																																																																																																																																																																																						      1u))) << 24u)) | (((tUInt64)(DEF_thin_flags__h979)) << 23u)) | (((tUInt64)(DEF_thin_reserved__h980)) << 21u)) | (((tUInt64)(DEF_thin_otype__h981)) << 3u)) | (((tUInt64)(DEF_read_rs1_port2_rs1_EQ_0___d86 || DEF_regfile_sub_read_rs1_port2_rs1___d88.get_bits_in_word8(1u,
																																																																																																																																																																																																																																																							       2u,
																																																																																																																																																																																																																																																							       1u))) << 2u)) | (tUInt64)((tUInt8)((DEF_read_rs1_port2_rs1_EQ_0___d86 ? 14025752576llu : primExtract64(34u,
																																																																																																																																																																																																																																																																				      151u,
																																																																																																																																																																																																																																																																				      DEF_regfile_sub_read_rs1_port2_rs1___d88,
																																																																																																																																																																																																																																																																				      32u,
																																																																																																																																																																																																																																																																				      33u,
																																																																																																																																																																																																																																																																				      32u,
																																																																																																																																																																																																																																																																				      0u)) >> 32u))),
									     32u,
									     40u).set_whole_word((tUInt32)(DEF_read_rs1_port2_rs1_EQ_0___d86 ? 14025752576llu : primExtract64(34u,
																					      151u,
																					      DEF_regfile_sub_read_rs1_port2_rs1___d88,
																					      32u,
																					      33u,
																					      32u,
																					      0u)),
												 0u);
  DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140.set_bits_in_word((tUInt32)(DEF_thin_address__h976 >> 42u),
										 4u,
										 0u,
										 22u).set_whole_word((tUInt32)(DEF_thin_address__h976 >> 10u),
												     3u).set_whole_word(((((tUInt32)(1023u & DEF_thin_address__h976)) << 22u) | (DEF_thin_addrBits__h977 << 8u)) | (tUInt32)(DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139.get_bits_in_word8(2u,
																																					     0u,
																																					     8u)),
															2u).set_whole_word(DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139.get_whole_word(1u),
																	   1u).set_whole_word(DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139.get_whole_word(0u),
																			      0u);
  DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d162 = (tUInt8)127u & (((((DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d148 << 6u) | (DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d149 << 5u)) | (DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d151 << 4u)) | ((DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d148 == DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d151 ? (tUInt8)0u : (DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d148 && DEF_NOT_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_r_ETC___d153 ? (tUInt8)1u : (tUInt8)3u)) << 2u)) | (DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d149 == DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d151 ? (tUInt8)0u : (DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d149 && DEF_NOT_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_r_ETC___d153 ? (tUInt8)1u : (tUInt8)3u)));
  PORT_read_rs1_port2.build_concat(8589934591llu & ((((tUInt64)(DEF_NOT_read_rs1_port2_rs1_EQ_0_6_7_AND_regfile_su_ETC___d90)) << 32u) | (tUInt64)(primExtract32(32u,
																				 150u,
																				 DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140,
																				 32u,
																				 149u,
																				 32u,
																				 118u))),
				   128u,
				   33u).set_whole_word(primExtract32(32u,
								     150u,
								     DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140,
								     32u,
								     117u,
								     32u,
								     86u),
						       3u).set_whole_word(primExtract32(32u,
											150u,
											DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140,
											32u,
											85u,
											32u,
											54u),
									  2u).set_whole_word(primExtract32(32u,
													   150u,
													   DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140,
													   32u,
													   53u,
													   32u,
													   22u),
											     1u).set_whole_word(((DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140.get_bits_in_word32(0u,
																								   0u,
																								   22u) << 10u) | (((tUInt32)(DEF_repBound__h1132)) << 7u)) | (tUInt32)(DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_4096_ELSE_re_ETC___d162),
														0u);
  return PORT_read_rs1_port2;
}

tUInt8 MOD_mkGPR_RegFile::METH_RDY_read_rs1_port2()
{
  tUInt8 PORT_RDY_read_rs1_port2;
  tUInt8 DEF_CAN_FIRE_read_rs1_port2;
  DEF_CAN_FIRE_read_rs1_port2 = (tUInt8)1u;
  PORT_RDY_read_rs1_port2 = DEF_CAN_FIRE_read_rs1_port2;
  return PORT_RDY_read_rs1_port2;
}

tUWide MOD_mkGPR_RegFile::METH_read_rs2(tUInt8 ARG_read_rs2_rs2)
{
  tUInt8 DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d239;
  tUInt8 DEF_repBound__h1363;
  tUInt8 DEF_NOT_read_rs2_rs2_EQ_0_63_64_AND_regfile_sub_re_ETC___d167;
  tUInt8 DEF_NOT_read_rs2_rs2_EQ_0_63___d164;
  tUInt8 DEF_thin_flags__h1210;
  tUInt8 DEF_NOT_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfil_ETC___d230;
  tUInt8 DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d225;
  tUInt8 DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d228;
  tUInt8 DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d226;
  tUInt8 DEF_thin_reserved__h1211;
  tUInt8 DEF_thin_perms_soft__h1227;
  tUInt32 DEF_thin_otype__h1212;
  tUInt8 DEF_read_rs2_rs2_EQ_0___d163;
  tUInt64 DEF_thin_address__h1207;
  tUInt32 DEF_x__h1370;
  tUInt8 DEF_bb__h1361;
  tUInt32 DEF_x__h1373;
  tUInt8 DEF_tb__h1360;
  tUInt32 DEF_thin_addrBits__h1208;
  tUInt8 DEF_ab__h1362;
  DEF_regfile_sub_read_rs2_rs2___d165 = INST_regfile.METH_sub(ARG_read_rs2_rs2);
  DEF_read_rs2_rs2_EQ_0___d163 = ARG_read_rs2_rs2 == (tUInt8)0u;
  DEF_thin_addrBits__h1208 = DEF_read_rs2_rs2_EQ_0___d163 ? 0u : DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word32(2u,
															8u,
															14u);
  DEF_ab__h1362 = (tUInt8)(DEF_thin_addrBits__h1208 >> 11u);
  DEF_x__h1373 = DEF_read_rs2_rs2_EQ_0___d163 ? 4096u : DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word32(0u,
													       14u,
													       14u);
  DEF_tb__h1360 = (tUInt8)(DEF_x__h1373 >> 11u);
  DEF_x__h1370 = DEF_read_rs2_rs2_EQ_0___d163 ? 0u : DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word32(0u,
													    0u,
													    14u);
  DEF_bb__h1361 = (tUInt8)(DEF_x__h1370 >> 11u);
  DEF_thin_otype__h1212 = DEF_read_rs2_rs2_EQ_0___d163 ? 262143u : DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word32(1u,
															  3u,
															  18u);
  DEF_thin_address__h1207 = DEF_read_rs2_rs2_EQ_0___d163 ? 0llu : primExtract64(64u,
										151u,
										DEF_regfile_sub_read_rs2_rs2___d165,
										32u,
										149u,
										32u,
										86u);
  DEF_thin_perms_soft__h1227 = DEF_read_rs2_rs2_EQ_0___d163 ? (tUInt8)0u : DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(2u,
																 4u,
																 4u);
  DEF_thin_reserved__h1211 = DEF_read_rs2_rs2_EQ_0___d163 ? (tUInt8)0u : DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
															       21u,
															       2u);
  DEF_NOT_read_rs2_rs2_EQ_0_63___d164 = !DEF_read_rs2_rs2_EQ_0___d163;
  DEF_thin_flags__h1210 = DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
														       23u,
														       1u);
  DEF_NOT_read_rs2_rs2_EQ_0_63_64_AND_regfile_sub_re_ETC___d167 = DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(4u,
																			       22u,
																			       1u);
  DEF_repBound__h1363 = (tUInt8)7u & (DEF_bb__h1361 - (tUInt8)1u);
  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d226 = DEF_bb__h1361 < DEF_repBound__h1363;
  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d228 = DEF_ab__h1362 < DEF_repBound__h1363;
  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d225 = DEF_tb__h1360 < DEF_repBound__h1363;
  DEF_NOT_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfil_ETC___d230 = !DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d228;
  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216.build_concat(1099511627775llu & ((((((((((((((((((((tUInt64)(DEF_thin_perms_soft__h1227)) << 36u) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(2u,
																																	     3u,
																																	     1u))) << 35u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(2u,
																																																       2u,
																																																       1u))) << 34u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(2u,
																																																																 1u,
																																																																 1u))) << 33u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(2u,
																																																																															   0u,
																																																																															   1u))) << 32u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																														     31u,
																																																																																														     1u))) << 31u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																													       30u,
																																																																																																													       1u))) << 30u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																													 29u,
																																																																																																																													 1u))) << 29u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																																												   28u,
																																																																																																																																												   1u))) << 28u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																																																											     27u,
																																																																																																																																																											     1u))) << 27u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																																																																										       26u,
																																																																																																																																																																										       1u))) << 26u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																																																																																										 25u,
																																																																																																																																																																																										 1u))) << 25u)) | (((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63___d164 && DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																																																																																																									   24u,
																																																																																																																																																																																																									   1u))) << 24u)) | (((tUInt64)(DEF_thin_flags__h1210)) << 23u)) | (((tUInt64)(DEF_thin_reserved__h1211)) << 21u)) | (((tUInt64)(DEF_thin_otype__h1212)) << 3u)) | (((tUInt64)(DEF_read_rs2_rs2_EQ_0___d163 || DEF_regfile_sub_read_rs2_rs2___d165.get_bits_in_word8(1u,
																																																																																																																																																																																																																																									     2u,
																																																																																																																																																																																																																																									     1u))) << 2u)) | (tUInt64)((tUInt8)((DEF_read_rs2_rs2_EQ_0___d163 ? 14025752576llu : primExtract64(34u,
																																																																																																																																																																																																																																																					       151u,
																																																																																																																																																																																																																																																					       DEF_regfile_sub_read_rs2_rs2___d165,
																																																																																																																																																																																																																																																					       32u,
																																																																																																																																																																																																																																																					       33u,
																																																																																																																																																																																																																																																					       32u,
																																																																																																																																																																																																																																																					       0u)) >> 32u))),
									     32u,
									     40u).set_whole_word((tUInt32)(DEF_read_rs2_rs2_EQ_0___d163 ? 14025752576llu : primExtract64(34u,
																					 151u,
																					 DEF_regfile_sub_read_rs2_rs2___d165,
																					 32u,
																					 33u,
																					 32u,
																					 0u)),
												 0u);
  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217.set_bits_in_word((tUInt32)(DEF_thin_address__h1207 >> 42u),
										 4u,
										 0u,
										 22u).set_whole_word((tUInt32)(DEF_thin_address__h1207 >> 10u),
												     3u).set_whole_word(((((tUInt32)(1023u & DEF_thin_address__h1207)) << 22u) | (DEF_thin_addrBits__h1208 << 8u)) | (tUInt32)(DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216.get_bits_in_word8(2u,
																																					       0u,
																																					       8u)),
															2u).set_whole_word(DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216.get_whole_word(1u),
																	   1u).set_whole_word(DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216.get_whole_word(0u),
																			      0u);
  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d239 = (tUInt8)127u & (((((DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d225 << 6u) | (DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d226 << 5u)) | (DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d228 << 4u)) | ((DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d225 == DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d228 ? (tUInt8)0u : (DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d225 && DEF_NOT_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfil_ETC___d230 ? (tUInt8)1u : (tUInt8)3u)) << 2u)) | (DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d226 == DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d228 ? (tUInt8)0u : (DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d226 && DEF_NOT_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfil_ETC___d230 ? (tUInt8)1u : (tUInt8)3u)));
  PORT_read_rs2.build_concat(8589934591llu & ((((tUInt64)(DEF_NOT_read_rs2_rs2_EQ_0_63_64_AND_regfile_sub_re_ETC___d167)) << 32u) | (tUInt64)(primExtract32(32u,
																			    150u,
																			    DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217,
																			    32u,
																			    149u,
																			    32u,
																			    118u))),
			     128u,
			     33u).set_whole_word(primExtract32(32u,
							       150u,
							       DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217,
							       32u,
							       117u,
							       32u,
							       86u),
						 3u).set_whole_word(primExtract32(32u,
										  150u,
										  DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217,
										  32u,
										  85u,
										  32u,
										  54u),
								    2u).set_whole_word(primExtract32(32u,
												     150u,
												     DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217,
												     32u,
												     53u,
												     32u,
												     22u),
										       1u).set_whole_word(((DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217.get_bits_in_word32(0u,
																							     0u,
																							     22u) << 10u) | (((tUInt32)(DEF_repBound__h1363)) << 7u)) | (tUInt32)(DEF_IF_read_rs2_rs2_EQ_0_63_THEN_4096_ELSE_regfile_ETC___d239),
													  0u);
  return PORT_read_rs2;
}

tUInt8 MOD_mkGPR_RegFile::METH_RDY_read_rs2()
{
  tUInt8 PORT_RDY_read_rs2;
  tUInt8 DEF_CAN_FIRE_read_rs2;
  DEF_CAN_FIRE_read_rs2 = (tUInt8)1u;
  PORT_RDY_read_rs2 = DEF_CAN_FIRE_read_rs2;
  return PORT_RDY_read_rs2;
}

void MOD_mkGPR_RegFile::METH_write_rd(tUInt8 ARG_write_rd_rd, tUWide ARG_write_rd_rd_val)
{
  tUInt8 DEF_NOT_write_rd_rd_EQ_0_40___d241;
  PORT_EN_write_rd = (tUInt8)1u;
  DEF_WILL_FIRE_write_rd = (tUInt8)1u;
  PORT_write_rd_rd_val = ARG_write_rd_rd_val;
  DEF_NOT_write_rd_rd_EQ_0_40___d241 = !(ARG_write_rd_rd == (tUInt8)0u);
  if (DEF_NOT_write_rd_rd_EQ_0_40___d241)
    INST_regfile.METH_upd(ARG_write_rd_rd, ARG_write_rd_rd_val);
}

tUInt8 MOD_mkGPR_RegFile::METH_RDY_write_rd()
{
  tUInt8 PORT_RDY_write_rd;
  tUInt8 DEF_CAN_FIRE_write_rd;
  DEF_CAN_FIRE_write_rd = (tUInt8)1u;
  PORT_RDY_write_rd = DEF_CAN_FIRE_write_rd;
  return PORT_RDY_write_rd;
}


/* Reset routines */

void MOD_mkGPR_RegFile::reset_RST_N(tUInt8 ARG_rst_in)
{
  PORT_RST_N = ARG_rst_in;
  INST_rg_state.reset_RST(ARG_rst_in);
  INST_f_reset_rsps.reset_RST(ARG_rst_in);
}


/* Static handles to reset routines */


/* Functions for the parent module to register its reset fns */


/* Functions to set the elaborated clock id */

void MOD_mkGPR_RegFile::set_clk_0(char const *s)
{
  __clk_handle_0 = bk_get_or_define_clock(sim_hdl, s);
}


/* State dumping routine */
void MOD_mkGPR_RegFile::dump_state(unsigned int indent)
{
  printf("%*s%s:\n", indent, "", inst_name);
  INST_f_reset_rsps.dump_state(indent + 2u);
  INST_regfile.dump_state(indent + 2u);
  INST_rg_j.dump_state(indent + 2u);
  INST_rg_state.dump_state(indent + 2u);
}


/* VCD dumping routines */

unsigned int MOD_mkGPR_RegFile::dump_VCD_defs(unsigned int levels)
{
  vcd_write_scope_start(sim_hdl, inst_name);
  vcd_num = vcd_reserve_ids(sim_hdl, 21u);
  unsigned int num = vcd_num;
  for (unsigned int clk = 0u; clk < bk_num_clocks(sim_hdl); ++clk)
    vcd_add_clock_def(sim_hdl, this, bk_clock_name(sim_hdl, clk), bk_clock_vcd_num(sim_hdl, clk));
  vcd_write_def(sim_hdl, bk_clock_vcd_num(sim_hdl, __clk_handle_0), "CLK", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139", 72u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140", 150u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62", 72u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63", 150u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216", 72u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217", 150u);
  vcd_write_def(sim_hdl, num++, "RST_N", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "WILL_FIRE_write_rd", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "regfile_sub_read_rs1_port2_rs1___d88", 151u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "regfile_sub_read_rs1_rs1___d11", 151u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "regfile_sub_read_rs2_rs2___d165", 151u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "rg_state__h349", 2u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "EN_write_rd", 1u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "read_rs1", 161u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "read_rs1_port2", 161u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "read_rs2", 161u);
  vcd_set_clock(sim_hdl, num, __clk_handle_0);
  vcd_write_def(sim_hdl, num++, "write_rd_rd_val", 151u);
  num = INST_f_reset_rsps.dump_VCD_defs(num);
  num = INST_regfile.dump_VCD_defs(num);
  num = INST_rg_j.dump_VCD_defs(num);
  num = INST_rg_state.dump_VCD_defs(num);
  vcd_write_scope_end(sim_hdl);
  return num;
}

void MOD_mkGPR_RegFile::dump_VCD(tVCDDumpType dt, unsigned int levels, MOD_mkGPR_RegFile &backing)
{
  vcd_defs(dt, backing);
  vcd_prims(dt, backing);
}

void MOD_mkGPR_RegFile::vcd_defs(tVCDDumpType dt, MOD_mkGPR_RegFile &backing)
{
  unsigned int num = vcd_num;
  if (dt == VCD_DUMP_XS)
  {
    vcd_write_x(sim_hdl, num++, 72u);
    vcd_write_x(sim_hdl, num++, 150u);
    vcd_write_x(sim_hdl, num++, 72u);
    vcd_write_x(sim_hdl, num++, 150u);
    vcd_write_x(sim_hdl, num++, 72u);
    vcd_write_x(sim_hdl, num++, 150u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 151u);
    vcd_write_x(sim_hdl, num++, 151u);
    vcd_write_x(sim_hdl, num++, 151u);
    vcd_write_x(sim_hdl, num++, 2u);
    vcd_write_x(sim_hdl, num++, 1u);
    vcd_write_x(sim_hdl, num++, 161u);
    vcd_write_x(sim_hdl, num++, 161u);
    vcd_write_x(sim_hdl, num++, 161u);
    vcd_write_x(sim_hdl, num++, 151u);
  }
  else
    if (dt == VCD_DUMP_CHANGES)
    {
      if ((backing.DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139) != DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139)
      {
	vcd_write_val(sim_hdl, num, DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139, 72u);
	backing.DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139 = DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139;
      }
      ++num;
      if ((backing.DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140) != DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140)
      {
	vcd_write_val(sim_hdl, num, DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140, 150u);
	backing.DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140 = DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140;
      }
      ++num;
      if ((backing.DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62) != DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62)
      {
	vcd_write_val(sim_hdl, num, DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62, 72u);
	backing.DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62 = DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62;
      }
      ++num;
      if ((backing.DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63) != DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63)
      {
	vcd_write_val(sim_hdl, num, DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63, 150u);
	backing.DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63 = DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63;
      }
      ++num;
      if ((backing.DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216) != DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216)
      {
	vcd_write_val(sim_hdl, num, DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216, 72u);
	backing.DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216 = DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216;
      }
      ++num;
      if ((backing.DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217) != DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217)
      {
	vcd_write_val(sim_hdl, num, DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217, 150u);
	backing.DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217 = DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217;
      }
      ++num;
      if ((backing.PORT_RST_N) != PORT_RST_N)
      {
	vcd_write_val(sim_hdl, num, PORT_RST_N, 1u);
	backing.PORT_RST_N = PORT_RST_N;
      }
      ++num;
      if ((backing.DEF_WILL_FIRE_write_rd) != DEF_WILL_FIRE_write_rd)
      {
	vcd_write_val(sim_hdl, num, DEF_WILL_FIRE_write_rd, 1u);
	backing.DEF_WILL_FIRE_write_rd = DEF_WILL_FIRE_write_rd;
      }
      ++num;
      if ((backing.DEF_regfile_sub_read_rs1_port2_rs1___d88) != DEF_regfile_sub_read_rs1_port2_rs1___d88)
      {
	vcd_write_val(sim_hdl, num, DEF_regfile_sub_read_rs1_port2_rs1___d88, 151u);
	backing.DEF_regfile_sub_read_rs1_port2_rs1___d88 = DEF_regfile_sub_read_rs1_port2_rs1___d88;
      }
      ++num;
      if ((backing.DEF_regfile_sub_read_rs1_rs1___d11) != DEF_regfile_sub_read_rs1_rs1___d11)
      {
	vcd_write_val(sim_hdl, num, DEF_regfile_sub_read_rs1_rs1___d11, 151u);
	backing.DEF_regfile_sub_read_rs1_rs1___d11 = DEF_regfile_sub_read_rs1_rs1___d11;
      }
      ++num;
      if ((backing.DEF_regfile_sub_read_rs2_rs2___d165) != DEF_regfile_sub_read_rs2_rs2___d165)
      {
	vcd_write_val(sim_hdl, num, DEF_regfile_sub_read_rs2_rs2___d165, 151u);
	backing.DEF_regfile_sub_read_rs2_rs2___d165 = DEF_regfile_sub_read_rs2_rs2___d165;
      }
      ++num;
      if ((backing.DEF_rg_state__h349) != DEF_rg_state__h349)
      {
	vcd_write_val(sim_hdl, num, DEF_rg_state__h349, 2u);
	backing.DEF_rg_state__h349 = DEF_rg_state__h349;
      }
      ++num;
      if ((backing.PORT_EN_write_rd) != PORT_EN_write_rd)
      {
	vcd_write_val(sim_hdl, num, PORT_EN_write_rd, 1u);
	backing.PORT_EN_write_rd = PORT_EN_write_rd;
      }
      ++num;
      if ((backing.PORT_read_rs1) != PORT_read_rs1)
      {
	vcd_write_val(sim_hdl, num, PORT_read_rs1, 161u);
	backing.PORT_read_rs1 = PORT_read_rs1;
      }
      ++num;
      if ((backing.PORT_read_rs1_port2) != PORT_read_rs1_port2)
      {
	vcd_write_val(sim_hdl, num, PORT_read_rs1_port2, 161u);
	backing.PORT_read_rs1_port2 = PORT_read_rs1_port2;
      }
      ++num;
      if ((backing.PORT_read_rs2) != PORT_read_rs2)
      {
	vcd_write_val(sim_hdl, num, PORT_read_rs2, 161u);
	backing.PORT_read_rs2 = PORT_read_rs2;
      }
      ++num;
      if ((backing.PORT_write_rd_rd_val) != PORT_write_rd_rd_val)
      {
	vcd_write_val(sim_hdl, num, PORT_write_rd_rd_val, 151u);
	backing.PORT_write_rd_rd_val = PORT_write_rd_rd_val;
      }
      ++num;
    }
    else
    {
      vcd_write_val(sim_hdl, num++, DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139, 72u);
      backing.DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139 = DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d139;
      vcd_write_val(sim_hdl, num++, DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140, 150u);
      backing.DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140 = DEF_IF_read_rs1_port2_rs1_EQ_0_6_THEN_0_ELSE_regfi_ETC___d140;
      vcd_write_val(sim_hdl, num++, DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62, 72u);
      backing.DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62 = DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d62;
      vcd_write_val(sim_hdl, num++, DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63, 150u);
      backing.DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63 = DEF_IF_read_rs1_rs1_EQ_0_THEN_0_ELSE_regfile_sub_r_ETC___d63;
      vcd_write_val(sim_hdl, num++, DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216, 72u);
      backing.DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216 = DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d216;
      vcd_write_val(sim_hdl, num++, DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217, 150u);
      backing.DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217 = DEF_IF_read_rs2_rs2_EQ_0_63_THEN_0_ELSE_regfile_su_ETC___d217;
      vcd_write_val(sim_hdl, num++, PORT_RST_N, 1u);
      backing.PORT_RST_N = PORT_RST_N;
      vcd_write_val(sim_hdl, num++, DEF_WILL_FIRE_write_rd, 1u);
      backing.DEF_WILL_FIRE_write_rd = DEF_WILL_FIRE_write_rd;
      vcd_write_val(sim_hdl, num++, DEF_regfile_sub_read_rs1_port2_rs1___d88, 151u);
      backing.DEF_regfile_sub_read_rs1_port2_rs1___d88 = DEF_regfile_sub_read_rs1_port2_rs1___d88;
      vcd_write_val(sim_hdl, num++, DEF_regfile_sub_read_rs1_rs1___d11, 151u);
      backing.DEF_regfile_sub_read_rs1_rs1___d11 = DEF_regfile_sub_read_rs1_rs1___d11;
      vcd_write_val(sim_hdl, num++, DEF_regfile_sub_read_rs2_rs2___d165, 151u);
      backing.DEF_regfile_sub_read_rs2_rs2___d165 = DEF_regfile_sub_read_rs2_rs2___d165;
      vcd_write_val(sim_hdl, num++, DEF_rg_state__h349, 2u);
      backing.DEF_rg_state__h349 = DEF_rg_state__h349;
      vcd_write_val(sim_hdl, num++, PORT_EN_write_rd, 1u);
      backing.PORT_EN_write_rd = PORT_EN_write_rd;
      vcd_write_val(sim_hdl, num++, PORT_read_rs1, 161u);
      backing.PORT_read_rs1 = PORT_read_rs1;
      vcd_write_val(sim_hdl, num++, PORT_read_rs1_port2, 161u);
      backing.PORT_read_rs1_port2 = PORT_read_rs1_port2;
      vcd_write_val(sim_hdl, num++, PORT_read_rs2, 161u);
      backing.PORT_read_rs2 = PORT_read_rs2;
      vcd_write_val(sim_hdl, num++, PORT_write_rd_rd_val, 151u);
      backing.PORT_write_rd_rd_val = PORT_write_rd_rd_val;
    }
}

void MOD_mkGPR_RegFile::vcd_prims(tVCDDumpType dt, MOD_mkGPR_RegFile &backing)
{
  INST_f_reset_rsps.dump_VCD(dt, backing.INST_f_reset_rsps);
  INST_regfile.dump_VCD(dt, backing.INST_regfile);
  INST_rg_j.dump_VCD(dt, backing.INST_rg_j);
  INST_rg_state.dump_VCD(dt, backing.INST_rg_state);
}
